{% extends 'base.html' %}

{% block content %}
<div style="padding-top:30px" class="container">
        <div style="padding-bottom: 150px;" class="col">
            <div class="card promoting-card" style="width: 18rem;">
                <div class="card-body d-flex flex-row">
                    <h4 style="color:#113ab6" class="card-title font-weight-bold mb-2">{{ experience.title }}</h4>
                </div>
                <!-- Card image -->
                <div class="view overlay">
                    <img class="card-img-top rounded-0" src="https://mdbootstrap.com/img/Photos/Horizontal/Food/full page/2.jpg" alt="Card image cap">
                    <a href="#!">
                        <div class="mask rgba-white-slight"></div>
                    </a>
                </div>
                <!-- Card content -->
                <div class="card-body">
                    <div class="collapse-content">
                        <p><span style="font-weight: bold"> Description: </span> {{ experience.description.capitalize }}</p>
                        <p><span style="font-weight: bold">Price:</span> ${{ experience.price }}</p>
                        <p><span style="font-weight: bold">Time:</span> {{ experience.hours|stringformat:"02d" }}:{{ experience.minutes|stringformat:"02d" }}</p>
                        <p><span style="font-weight: bold">Language Spoken:</span> {{ experience.language }}</p>
                        <p><span style="font-weight: bold">Host:</span> {{ experience.user.username.capitalize }}</p>
                        <p><span style="font-weight: bold">City:</span> {{ experience.city }}</p>
                        <p><span style="font-weight: bold">Address:</span> {{ experience.address.capitalize }}</p>
                        <p><span style="font-weight: bold">Zip Code:</span> {{ experience.zipcode | stringformat:"05d" }}</p>
                        <hr>
                        <!-- Button -->
                        <a style="color:#113ab6" class="btn btn-flat red-text p-1 my-1 mr-0 mml-1 collapsed" href="{% url 'exp_update' experience.id %}">Edit</a>
                        <a style="color:red;" class="btn btn-flat red-text p-1 my-1 mr-0 mml-1 collapsed" href="{% url 'exp_delete' experience.id %}">Delete</a>
                    </div>
                </div>
            <div class="card-action">
                <a href="{% url 'bkng_new' experience.id %}">Book this Experience!</a>
            </div>
        </div>
    </div>
</div>
<a href="{%url 'exp_review' experience.id %}">Review this Event</a>

<div>
    {% for photo in experience.photo_set.all %}
      <img class="responsive-img card-panel" src="{{photo.url}}">
    {% empty %}
      <div class="card-panel teal-text center-align">No Photos Uploaded</div>
    {% endfor %}
</div>

<form action="{% url 'add_photo' experience.id %}" enctype="multipart/form-data" method="POST" class="card-panel">
    {% csrf_token %}
    <input type="file" name="photo-file">
    <br><br>
    <input type="submit" class="btn" value="Upload Photo">
</form>

{% endblock %}